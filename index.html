<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ‡¶äººæ‡‰ç”¨åˆ†äº«</title>

    <style>
        body {
            margin: 0;
            font-family: "Poppins", "Noto Sans TC", sans-serif;
            background: radial-gradient(circle at top, #a06bff 0%, #3a1f57 40%, #140a23 100%);
            color: #ffffff;
            min-height: 100vh;
        }

        header {
            text-align: center;
            padding: 60px 20px 40px;
            position: relative;
        }

        header h1 {
            font-size: 2.8rem;
            font-weight: 700;
            margin: 0;
            text-shadow: 0 0 15px rgba(255,255,255,0.5);
        }

        header p {
            margin-top: 10px;
            font-size: 1.2rem;
            opacity: 0.8;
        }

        /* App cards */
        .apps-container {
            max-width: 1000px;
            margin: 40px auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 20px;
        }

        .app-card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(6px);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(255,255,255,0.15);
            transition: 0.3s;
        }

        .app-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 0 25px rgba(255,255,255,0.3);
        }

        .app-title {
            font-size: 1.4rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .app-desc {
            font-size: 0.95rem;
            opacity: 0.85;
            line-height: 1.4rem;
        }

        .btn {
            display: inline-block;
            margin-top: 12px;
            padding: 8px 14px;
            border-radius: 10px;
            background: #b682ff;
            color: #1b003d;
            font-weight: 600;
            text-decoration: none;
            transition: 0.25s;
            cursor: pointer;
            border: none;
        }

        .btn:hover {
            background: #d5a7ff;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            opacity: 0.6;
            font-size: 0.9rem;
        }

        /* Login button */
        .login-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 8px 16px;
            border-radius: 999px;
            border: 1px solid rgba(255,255,255,0.5);
            background: rgba(10,0,40,0.6);
            color: #ffffff;
            cursor: pointer;
            backdrop-filter: blur(8px);
            transition: 0.25s;
        }

        .login-btn:hover {
            background: rgba(176,130,255,0.9);
            color: #1b003d;
        }

        /* User menu */
        .user-menu {
            position: absolute;
            top: 20px;
            right: 20px;
            display: none;
        }

        .user-menu-btn {
            padding: 4px;
            border-radius: 50%;
            border: 1px solid rgba(255,255,255,0.5);
            background: rgba(10,0,40,0.6);
            cursor: pointer;
            transition: 0.25s;
        }

        .user-menu-btn:hover {
            background: rgba(176,130,255,0.9);
        }

        .user-menu-list {
            margin-top: 6px;
            background: rgba(15,5,45,0.95);
            border-radius: 12px;
            padding: 6px 0;
            box-shadow: 0 0 18px rgba(0,0,0,0.5);
            min-width: 130px;
            display: none;
        }

        .user-menu.open .user-menu-list {
            display: block;
        }

        .user-menu-item {
            width: 100%;
            padding: 8px 14px;
            background: transparent;
            border: none;
            text-align: left;
            color: #fff;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .user-menu-item:hover {
            background: rgba(182,130,255,0.2);
        }

        /* Login modal */
        .login-modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.6);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 999;
        }

        .login-modal.open {
            display: flex;
        }

        .login-dialog {
            background: rgba(20,10,50,0.95);
            padding: 24px 22px 20px;
            border-radius: 18px;
            width: min(320px, 90vw);
            box-shadow: 0 0 25px rgba(0,0,0,0.4);
        }

        .login-dialog h2 {
            margin-bottom: 16px;
            margin-top: 0;
        }

        .login-dialog label {
            margin-bottom: 4px;
            font-size: 0.85rem;
            display: block;
        }

        .login-dialog input {
            width: 100%;
            padding: 8px 10px;
            border-radius: 8px;
            border: none;
            margin-bottom: 12px;
            font-size: 0.9rem;
        }

        .login-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
        }

        .btn-close {
            background: transparent;
            border: none;
            color: #bbbbff;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .btn-login {
            padding: 7px 14px;
            border-radius: 10px;
            border: none;
            background: #b682ff;
            color: #1b003d;
            font-weight: 600;
            cursor: pointer;
            transition: 0.25s;
        }

        .btn-login:hover {
            background: #d5a7ff;
        }
    </style>
</head>
<body>

<header>
    <h1>æ‡¶äººæ‡‰ç”¨åˆ†äº«</h1>
    <p>æ”¾ä¸€äº›æˆ‘è‡ªå·±é–‹ç™¼çš„å°å·¥å…·ã€å°å°ˆæ¡ˆã€å°å¯¦é©—ç”¨é é¢</p>

    <!-- æœªç™»å…¥æ™‚é¡¯ç¤º -->
    <button class="login-btn" id="openLogin">ç™»å…¥</button>

    <!-- ç™»å…¥å¾Œé¡¯ç¤º -->
    <div class="user-menu" id="userMenu">
        <button class="user-menu-btn" id="userMenuBtn">
            <img id="userAvatar"
                 src="https://i.imgur.com/4Z8VZ5A.png"
                 alt="avatar"
                 style="width:32px;height:32px;border-radius:50%;object-fit:cover;">
        </button>
        <div class="user-menu-list" id="userMenuList">
            <button class="user-menu-item" id="menuSettings">Setting</button>
            <button class="user-menu-item" id="menuLogout">Log out</button>
        </div>
    </div>
</header>

<!-- ç™»å…¥è¦–çª— -->
<div class="login-modal" id="loginModal">
    <div class="login-dialog">
        <h2>æœƒå“¡ç™»å…¥</h2>
        <label for="login-username">å¸³è™Ÿ</label>
        <input type="text" id="login-username" />
        <label for="login-password">å¯†ç¢¼</label>
        <input type="password" id="login-password" />
        <div class="login-actions">
            <button class="btn-close" id="closeLogin">å…ˆä¸ç”¨ç™»å…¥</button>
            <button class="btn-login">ç™»å…¥</button>
        </div>
    </div>
</div>

<section class="apps-container">
    <div class="app-card">
        <div class="app-title">ğŸŸ£ ç°¡æ˜“å¸³å¯†ç™»å…¥å·¥å…·</div>
        <div class="app-desc">
            ç°¡å–®å¸³è™Ÿå¯†ç¢¼ç™»å…¥å°å·¥å…·ï¼Œæ”¯æ´è‡ªå‹•è¼¸å…¥èˆ‡åŠ å¯†å„²å­˜ã€‚ä¸‹è¼‰å¾Œå¯ç›´æ¥åŸ·è¡Œä½¿ç”¨ã€‚
        </div>
        <!-- æŠŠ exe æª”æ”¾åœ¨è·Ÿ index.html åŒä¸€å€‹è³‡æ–™å¤¾ -->
        <a href="å¸³å¯†ç™»å…¥å·¥å…·7.0.exe" download class="btn">ç«‹å³ä¸‹è¼‰</a>
    </div>

    <div class="app-card">
        <div class="app-title">ğŸŸ£ æ‡‰ç”¨ç¨‹å¼ 2</div>
        <div class="app-desc">
            ä¾‹å¦‚ï¼šå¯†ç¢¼ç”¢ç”Ÿå™¨ã€è¨ˆç®—å°å·¥å…·ã€API æ¸¬è©¦å·¥å…·ç­‰ç­‰ï¼Œä¹‹å¾Œå¯ä»¥å†å¡«å…¥å¯¦éš›å…§å®¹ã€‚
        </div>
        <a href="#" class="btn">å‰å¾€ä½¿ç”¨</a>
    </div>

    <div class="app-card">
        <div class="app-title">ğŸŸ£ æ‡‰ç”¨ç¨‹å¼ 3</div>
        <div class="app-desc">
            ä¹‹å¾Œæƒ³æ–°å¢å¤šå°‘éƒ½å¯ä»¥ï¼Œå¡ç‰‡æœƒè‡ªå‹•æ’ç‰ˆï¼Œç‰ˆé¢æœƒä¿æŒæ•´é½Šã€‚
        </div>
        <a href="#" class="btn">å‰å¾€ä½¿ç”¨</a>
    </div>
</section>

<footer>
    Â© 2025 æˆ‘çš„æ‡‰ç”¨ç¨‹å¼ä½œå“é›†
</footer>

<script>
    const openLoginBtn = document.getElementById('openLogin');
    const loginModal = document.getElementById('loginModal');
    const closeLoginBtn = document.getElementById('closeLogin');
    const loginBtn = document.querySelector('.btn-login');
    const usernameInput = document.getElementById('login-username');
    const passwordInput = document.getElementById('login-password');
    const appButtons = document.querySelectorAll('.apps-container .btn');

    const userMenu = document.getElementById('userMenu');
    const userMenuBtn = document.getElementById('userMenuBtn');
    const userMenuList = document.getElementById('userMenuList');
    const menuLogout = document.getElementById('menuLogout');
    const menuSettings = document.getElementById('menuSettings');
    const userAvatar = document.getElementById('userAvatar');

    // å¾è¨­å®šé è®€å–è‡ªè¨‚é ­åƒï¼ˆlocalStorageï¼‰
    const savedAvatar = localStorage.getItem('avatarDataUrl');
    if (savedAvatar && userAvatar) {
        userAvatar.src = savedAvatar;
    }

    const VALID_USERNAME = 'admin';
    const DEFAULT_PASSWORD = '1234'; // åˆå§‹é è¨­å¯†ç¢¼

    // å–å¾—ç›®å‰æœ‰æ•ˆå¯†ç¢¼ï¼ˆå¦‚æœåœ¨è¨­å®šé æ”¹éï¼Œå°±ç”¨ localStorage çš„ï¼‰
    function getCurrentPassword() {
        const stored = localStorage.getItem('loginPassword');
        return stored || DEFAULT_PASSWORD;
    }

    function setAppsEnabled(enabled) {
        appButtons.forEach(btn => {
            if (enabled) {
                if (btn.dataset.originalText) {
                    btn.textContent = btn.dataset.originalText;
                }
                btn.style.pointerEvents = 'auto';
                btn.style.opacity = '1';
            } else {
                if (!btn.dataset.originalText) {
                    btn.dataset.originalText = btn.textContent;
                }
                btn.textContent = 'è«‹å…ˆç™»å…¥';
                btn.style.pointerEvents = 'none';
                btn.style.opacity = '0.6';
            }
        });
    }

    function setLoggedInState(isLoggedIn) {
        if (isLoggedIn) {
            if (openLoginBtn) {
                openLoginBtn.style.display = 'none';
            }
            if (userMenu) {
                userMenu.style.display = 'block';
            }
            setAppsEnabled(true);
        } else {
            if (openLoginBtn) {
                openLoginBtn.textContent = 'ç™»å…¥';
                openLoginBtn.disabled = false;
                openLoginBtn.style.opacity = '1';
                openLoginBtn.style.cursor = 'pointer';
                openLoginBtn.style.display = 'inline-block';
            }
            if (userMenu) {
                userMenu.style.display = 'none';
                userMenu.classList.remove('open');
            }
            setAppsEnabled(false);
        }
    }

    // åˆå§‹ç‹€æ…‹ï¼šå¾ localStorage è®€å–æ˜¯å¦å·²ç™»å…¥
    const savedLogin = localStorage.getItem('isLoggedIn') === 'true';
    setLoggedInState(savedLogin);

    if (openLoginBtn && loginModal) {
        openLoginBtn.addEventListener('click', () => {
            loginModal.classList.add('open');
        });
    }

    if (closeLoginBtn && loginModal) {
        closeLoginBtn.addEventListener('click', () => {
            loginModal.classList.remove('open');
        });
    }

    if (loginModal) {
        loginModal.addEventListener('click', (e) => {
            if (e.target === loginModal) {
                loginModal.classList.remove('open');
            }
        });
    }

    if (loginBtn) {
        loginBtn.addEventListener('click', () => {
            const user = usernameInput.value.trim();
            const pwd = passwordInput.value.trim();

            if (user === VALID_USERNAME && pwd === getCurrentPassword()) {
                localStorage.setItem('isLoggedIn', 'true');
                setLoggedInState(true);
                loginModal.classList.remove('open');
                alert('ç™»å…¥æˆåŠŸï¼');
            } else {
                alert('å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤');
            }
        });
    }

    // ä½¿ç”¨è€…ä¸‹æ‹‰é¸å–®
    if (userMenuBtn && userMenu) {
        userMenuBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            userMenu.classList.toggle('open');
        });
    }

    // é»æ“Šå¤–é¢é—œé–‰ä¸‹æ‹‰é¸å–®
    document.addEventListener('click', () => {
        if (userMenu) {
            userMenu.classList.remove('open');
        }
    });

    // Log out
    if (menuLogout) {
        menuLogout.addEventListener('click', () => {
            localStorage.removeItem('isLoggedIn');
            setLoggedInState(false);
            alert('å·²ç™»å‡º');
        });
    }

    // Settingï¼šå°å‘åˆ°è¨­å®šé é¢
    if (menuSettings) {
        menuSettings.addEventListener('click', () => {
            window.location.href = 'settings.html';
        });
    }
</script>

</body>
</html>
